<!DOCTYPE html>
<html><head><meta name="viewport" http-equiv="Content-Type" content="text/html; charset=UTF-8; width=device-width; initial-scale=1; minimum-scale=1">

<meta content="Stonescript Manual" property="og:title">
<meta content="All instructions for Stonescript, the programming language inside Stone Story RPG. Includes examples and tips to maximize your Mind Stone." property="og:description">
<meta content='https://stonestoryrpg.com/mind_stone.png' property='og:image'>
<meta name="theme-color" content="#ffffff">
<meta name="twitter:card" content="summary_large_image">
<link type="application/json+oembed" href="https://stonestoryrpg.com/faq.json" /> 

<title>Stonescript Manual</title>

<link rel="stylesheet" href="https://stonestoryrpg.com/faq-fixed.css" type="text/css" media="only screen and (min-device-width: 891px)" />
<link rel="stylesheet" href="https://stonestoryrpg.com/faq-stretch.css" type="text/css" media="only screen and (max-width: 890px)" />

<style type="text/css">
	eg {
		color: #707070;
	}
</style>

</head>
<body><div id="content">
<f>
<div id="logo"><a href="https://StoneStoryRPG.com" target="_blank"><img src="https://stonestoryrpg.com/capsule_b_231x87.png" alt="Stone Story RPG" align="middle"></a></div>

<div id="title-separator"><!---------------------------></div>

<center>· ·:·: Stonescript (Beta) :·:· ·</center>
<div id="title-separator"><!---------------------------></div>
<center><font color="#808080">v2.8.0 - 2020/02/16</font></center>
<answer><center><a href="https://stonestoryrpg.com/stonescript">main</a> | beta</center></answer>
<center><font color="#808080">
      _ ______________________ _            
  ,:´      \____        __.---<font color="#ffffff">,.</font> `.         
 :.!  __________\_______\__`--<font color="#ffffff">`´</font>__ \        
 :' \ \--------------------------.\ \       
 ':' · \ <font color="#ffffff">·:. :'· :.:·             </font>\\ \      
  ':' \ \ <font color="#ffffff">:·' :·:.                 </font>\\ \     
   ':' · \ <font color="#ffffff">.: ·:: '.:. ':'··:.      </font>\\ \    
    ':' \ \ <font color="#ffffff">· :..                    </font>\\ \   
     ':' · \ <font color="#ffffff">:·: ..': :·:. ·:: '.     </font>\\ \  
      ':' \ \__________________________\\ \ 
       ':' `     .         \         .     )
        ':' . . . \ . . . . ' . . . . \ . .;
          `·.;,;,;,;,;,;,;,;,;,;,;,;,;,;,:' 
</font></center>
</f>
<font color="#bbbbbb">
<f>Used in the Mind Stone to automate equipment choices. Stonescript is a very simple, yet powerful language inside of <a href="https://StoneStoryRPG.com" target="_blank">Stone Story RPG</a>.</f>

<f>Need help? Want to collaborate on scripts? Visit <a href="https://discord.gg/StoneStoryRPG" target="_blank">our Discord</a>.<f>

<f>The goal of a good script is to equip the best items as the state of the game changes. This could be as simple as automatically activating the potion if your health is low, or complex enough where combat is optimized to super-human levels.</f>
</font>


·:·:· Index ·:·:·

<f>  <a href="#example">1. Example</a></f>
<f>  <a href="#basics">2. Basics</a></f>
<f>  <a href="#game-state">3. Game State</a></f>
<f>  <a href="#commands">4. Commands</a></f>
<f>  <a href="#comparisons">5. Comparisons</a></f>
<f>  <a href="#variables">6. Variables</a></f>
<f>  <a href="#math-operations">7. Math Operations</a></f>
<f>  <a href="#functions">8. Functions</a></f>
<f>  <a href="#native-functions">9. Native Functions</a></f>
<f>  <a href="#import">10. Importing External Scripts</a></f>
<f>  <a href="#ascii-art">11. ASCII-art</a></f>
<f>  <a href="#search-filters">12. Search Filters</a></f>
<f>  <a href="#custom-input">13. Custom Input</a></f>
<f>  <a href="#tips">14. Tips</a></f>
<f>  <a href="#default-script">15. Default script</a></f>
<f>  <a href="#roadmap">16. Roadmap</a></f>
<f>  <a href="#sounds">Appendix A - Sound Effects</a></f>


<div id="example"><div id="separator"><!---------------------------></div>

·:·:· Example ·:·:·
<font color="#bbbbbb">
// Equips the Shovel for Rocky Plateau.
// In Caves of Fear it equips loadout 1,
//   except against the boss, where the
//   Grappling Hook and a 7 star War Hammer
//   are used instead.
// For Haunted Halls it uses two Wands, 
//   specifying Poison for left hand and
//   Vigor for the right hand. However,
//   if the difficulty is over 5 stars it
//   uses an enchanted +13 Vigor Staff.
// Potion activates if hitpoints fall
//   below 10
<f>?loc=rocky
 equip shovel
?loc=cave
 loadout 1
 ?foe=bolesh
  equip grap
  equip hammer *7 D
?loc=halls
 equipL poison wand
 equipR vigor wand
 ?loc.stars &gt; 5
  equip vigor staff +13
?hp < 10
 activate potion
</f>
</font>
<a href="#"><font color="#505050">^Back to top</font></a>
</div>

<div id="basics"><div id="separator"><!---------------------------></div>

·:·:· Basics ·:·:·
<font color="#bbbbbb">
<table>
  <tr>
    <td style="min-width: 3em"> ?  </td>
    <td>Evaluates a logical condition. If true, executes idented lines (if).<eg><br>E.g.<br>?loc = caves<br>  loadout 1</td>
  </tr>
  <tr>
    <td style="min-width: 3em"> :  </td>
    <td>Alternative logical branch, in case the '?' condition is false (else).<eg><br>E.g.<br>?loc = caves<br>  loadout 1<br>:<br>  loadout 2</td>
  </tr>
  <tr>
    <td style="min-width: 3em"> :? </td>
    <td>Alternative logical branch, with additional conditions (else-if).<eg><br>E.g.<br>?loc = caves<br>  loadout 1<br>:?loc = deadwood<br>  loadout 2<br>:<br>  loadout 3</td>
  </tr>
  <tr>
    <td style="min-width: 3em"> // </td>
    <td>A comment. All text to the right of '//' has no logical effect when the script executes.<eg><br>E.g.<br>?loc = caves<br>  loadout 1<br>//The above equips loadout 1 for Caves of Fear</td>
  </tr>
  <tr>
    <td style="min-width: 3em"> ^  </td>
    <td>Continue previous line.<eg><br>E.g.<br>?loc=caves |<br>^loc = mine<br>  equip repeating<br><br>//The above is equal to:<br>?loc=caves|loc=mine<br>  equip repeating</td>
  </tr>
</table></font>
<a href="#"><font color="#505050">^Back to top</font></a>
</div>

<div id="game-state"><div id="separator"><!---------------------------></div>

·:·:· Game State ·:·:·
<font color="#bbbbbb">
<f>These questions tell you what's happening and what's right in front of the player.</f>

<table>
  <tr>
    <td>?loc</td>
    <td>The current location the player is visiting.<eg><br>E.g.<br>?loc = caves<br>  loadout 1</td>
  </tr>
  <tr>
    <td>?loc.name</td>
    <td>The localized name of the current location.<eg><br>E.g.<br>var name<br>name = loc.name<br>&gt;Exploring @name@</td>
  </tr>
  <tr>
    <td>?loc.stars</td>
    <td>The current location's difficulty.<eg><br>E.g.<br>?loc = caves<br>  ?loc.stars=4<br>    loadout 1<br>  ?loc.stars=5<br>    loadout 2</td>
  </tr>
  <tr>
    <td>?loc.begin</td>
    <td>Is true only on the first frame of a location, when time = 0, before any game simulation has run. Is not true after an Ouroboros loop. Useful for initialization of variables.<eg><br>E.g.<br>?loc.begin<br>  var i = 0<br>  ?loc = caves<br>    i = -100</td>
  </tr>
  <tr>
    <td>?loc.loop</td>
    <td>Is true on the first frame of a run after an Ouroboros loop.<eg><br>E.g.<br>var loopCount = 0<br>?loc.loop<br>  loopCount++</td>
  </tr>
  <tr>
    <td>?foe</td>
    <td>The current foe being targeted by the player.<eg><br>E.g.<br>?foe = boo<br>  equip vigor staff</td>
  </tr>
  <tr>
    <td>?foe.name</td>
    <td>The localized name of the foe being targeted by the player.</td>
  </tr>
  <tr>
    <td>?foe.distance</td>
    <td>The distance between the player and the foe being targeted.</td>
  </tr>
  <tr>
    <td>?foe.count</td>
    <td>The number of foes within 40 units.</td>
  </tr>
  <tr>
    <td>?foe.hp</td>
    <td>The current hitpoints of the foe being targeted by the player.</td>
  </tr>
  <tr>
    <td>?foe.maxhp</td>
    <td>The maximum hitpoints of the foe being targeted by the player.</td>
  </tr>
  <tr>
    <td>?foe.armor</td>
    <td>The current armor of the foe being targeted by the player.</td>
  </tr>
  <tr>
    <td>?foe.maxarmor</td>
    <td>The maximum armor of the foe being targeted by the player.</td>
  </tr>
  <tr>
    <td>?foe.debuffs.count</td>
    <td>The number of debuffs on the foe being targeted.</td>
  </tr>
  <tr>
    <td>?hp</td>
    <td>The player's current hitpoints.</td>
  </tr>
  <tr>
    <td>?maxhp</td>
    <td>The player's maximum hitpoints.</td>
  </tr>
  <tr>
    <td>?armor</td>
    <td>The player's current armor, rounded down.<br>E.g. if the armor says [2.4] ?armor evaluates to 2.</td>
  </tr>
  <tr>
    <td>?armor.f</td>
    <td>The player's current armor's fractional amount.<br>E.g. if the armor says [2.4] ?armor.f evaluates to 4.</td>
  </tr>
  <tr>
    <td>?maxarmor</td>
    <td>The player's maximum armor, rounded down.</td>
  </tr>
  <tr>
    <td>?pos.x</td>
    <td>The player's current X position.</td>
  </tr>
  <tr>
    <td>?pos.y</td>
    <td>The player's current Y position.</td>
  </tr>
  <tr>
    <td>?pos.z</td>
    <td>The player's current Z position.</td>
  </tr>
  <tr>
    <td>?debuffs.count</td>
    <td>The number of debuffs currently on the player.</td>
  </tr>
  <tr>
    <td>?harvest</td>
    <td>The next harvestable object, such as a tree or boulder.<eg><br>E.g.<br>?harvest=Boulder<br>  equip shovel</td>
  </tr>
  <tr>
    <td>?harvest.distance</td>
    <td>The distance between the player and the nearest harvestable object.<eg><br>E.g.<br>?loc=Rocky & harvest.distance < 7<br>  equip shovel</td>
  </tr>
  <tr>
    <td>?pickup</td>
    <td>The current pickup being targeted by the player.</td>
  </tr>
  <tr>
    <td>?pickup.distance</td>
    <td>The distance between the player and the pickup being targeted.</td>
  </tr>
  <tr>
    <td>?time</td>
    <td>The current frame number of the location.</td>
  </tr>
  <tr>
    <td>?totaltime</td>
    <td>The current frame number of the location, accumulated in case of boss sub-location.</td>
  </tr>
  <tr>
    <td>?face</td>
    <td>The player's current facial expression.<eg><br>E.g.<br>?face =( ^^)</td>
  </tr>
  <tr>
    <td>?ai.enabled</td>
    <td>True if the AI is on, False if the AI is off (e.g. during a cinematic moment).</td>
  </tr>
  <tr>
    <td>?ai.paused</td>
    <td>True if the AI is temporarily suspended, such as when waiting for a treasure to drop.</td>
  </tr>
  <tr>
    <td>?ai.idle</td>
    <td>True if the player is idle, waiting for something such as an attack to complete.</td>
  </tr>
  <tr>
    <td>?ai.walking</td>
    <td>True if the player is moving.</td>
  </tr>
  <tr>
    <td>?key</td>
    <td>The state of <a href="#custom-input">custom game input</a>.<eg><br>The following prints the current input:<br>&gt;@key@</td>
  </tr>
  <tr>
    <td>?rng</td>
    <td>Returns a random number between 0 and 9999.<eg><br>E.g.<br>?rng < 5000<br>  &gt;Heads!<br>:<br>  &gt;Tails!<br><br>This example generates a random number between 5 and 24:<br>var min = 5<br>var max = 24<br>var n<br>n = min + rng % (max - min + 1)</td>
  </tr>
  <tr>
    <td>?screen.w</td>
    <td>The width of the screen's ASCII grid.<eg><br>E.g.<br>var sw = screen.w<br>&gt;Screen width = @sw@</td>
  </tr>
  <tr>
    <td>?screen.h</td>
    <td>The height of the screen's ASCII grid.<eg><br>E.g.<br>var sh = screen.h<br>&gt;Screen height = @sh@</td>
  </tr>
</table></font>
<a href="#"><font color="#505050">^Back to top</font></a>
</div>

<div id="commands"><div id="separator"><!---------------------------></div>

·:·:· Commands ·:·:·
<font color="#bbbbbb">
These tell the game to do something.

<table>
  <tr>
    <td>activate (ability)</td>
    <td>Activates an item ability. (ability) can have these values: potion, P, left, L, right, R.<eg><br>E.g.<br>activate R<br>(activates the ability of the item equipped on the right side, such as the Hatchet)</td>
  </tr>
  <tr>
    <td>equip  (str)</td>
    <td>Equips an item. (str) has a limit of 7 criteria.<eg><br>E.g.<br>equip vigor crossbow *8 +5</td>
  </tr>
  <tr>
    <td>equipL (str)</td>
    <td>Equips an item to the left hand that best fits the given criteria.<eg><br>E.g.<br>equipL poison sword</td>
  </tr>
  <tr>
    <td>equipR (str)</td>
    <td>Equips an item to the right hand that best fits the given criteria.<eg><br>E.g.<br>equipR vigor shield</td>
  </tr>
  <tr>
    <td>loadout (n)</td>
    <td>Equips a specific loadout number.<eg><br>E.g.<br>?loc = caves<br>  loadout 1<br>?loc = deadwood<br>  loadout 2</td>
  </tr>
  <tr>
    <td>&gt; (str)</td>
    <td>Prints a string to the top of the screen.<eg><br>E.g.<br>&gt;Hello World!</td>
  </tr>
  <tr>
    <td>&gt; @varName@</td>
    <td>Prints a string with the value of a variable inserted. Multiple variables can be inserted into a single print. To insert, surround the variable's name with @.<eg><br>The following example prints information about the currently targeted foe:<br>var foeInfo<br>foeInfo = foe<br>&gt;FOE = @foeInfo@</td>
  </tr>
  <tr>
    <td>&gt;(abcd</td>
    <td>Shows a custom facial expression on the player.<eg><br>E.g.<br>&gt;( OwO</td>
  </tr>
  <tr>
    <td>&gt;oX,Y,[#rrggbb,](str)</td>
    <td>Advanced print relative to the player's position. X and Y are the coordinate offsets. #rrggbb is the color of the text in <a href="https://htmlcolorcodes.com/" target="_blank">hexadecimal notation</a>. Color can also be set with these constants: #white, #cyan, #yellow, #green, #blue and #red. To print in rainbow use #rainFF where the last 2 characters define the brightness.<eg><br>The following example writes "Let's go!" in red font, relative to the player's position, 6 to the left and 3 down:<br>&gt;o-6,3,#red,Let's go!</td>
  </tr>
  <tr>
    <td>&gt;hX,Y,[#rrggbb,](str)</td>
    <td>Similar to "&gt;o", however, draws on the same layer as the Big Head. Ideal for accessories such as hats.<eg><br>The following draws a yellow hat on the player. Requires Big Head:<br>&gt;h-2,-3,#yellow,ascii<br>##_<br>#| |<br>_|_|_<br>asciiend</td>
  </tr>
  <tr>
    <td>&gt;`X,Y,[#rrggbb,](str)</td>
    <td>Advanced print relative to the upper-left corner of the screen.<eg><br>The following prints "Hello World!", but uses variables for the coordinates and the color:<br>var posX = 10<br>var posY = 5<br>var color = rainE1<br>&gt;`@posX@,@posY@,#@color@,Hello World!</td>
  </tr>
  <tr>
    <td>&gt;cX,Y,[#rrggbb,](str)</td>
    <td>Advanced print relative to the center of the screen. Similar to "&gt;`". Note that in all these the color is optional.<eg><br>This example demonstrates how the color is optional and defaults to white:<br>&gt;c0,0,Hello World!</td>
  </tr>
  <tr>
    <td>&gt;fX,Y,[#rrggbb,](str)</td>
    <td>Advanced print relative to the target foe's head position.<eg><br>The following draws a red crosshairs on the targeted foe:<br>&gt;f-2,0,#ff0000,<br>^##!\n<br>^-#·#-\n<br>^##¡</td>
  </tr>
  <tr>
    <td>var (variable)</td>
    <td>Declares a <a href="#variables">variable</a> that can be used in math, logical and string operations.<eg><br>E.g.<br>var message = Hello World!<br>&gt;@message@</td>
  </tr>
  <tr>
    <td>func (function)</td>
    <td>Declares a <a href="#functions">function</a> that can be called later.<eg><br>E.g.<br>func Print(message)<br>  >@message@<br><br>Print(Hello World!)</td>
  </tr>
  <tr>
    <td>import (script)</td>
    <td>Loads and executes a singular copy of an <a href="#import">external script</a>.<eg><br>This example imports the fishing mini-game located at<br>(save-file folder)/Stonescript/Fishing.txt<br><br>import Fishing</td>
  </tr>
  <tr>
    <td>new (script)</td>
    <td>Loads and executes an <a href="#import">external script</a> similar to 'import'. However, objects loaded with 'new' are each an individual copy and their script body will only execute one time.<eg><br>This example creates and prints a vector object:<br>var v = new Components/Vector<br>v.Init(10, 5)<br>>Vector = @v@</td>
  </tr>
  <tr>
    <td>disable hud</td>
    <td>Hides and disables the user interface elements including: Resources, hitpoints, ability buttons and pause button.</td>
  </tr>
  <tr>
    <td>enable hud</td>
    <td>Brings back all the user interface elements hidden by a previous "disable hud" command.</td>
  </tr>
  <tr>
    <td>disable loadout print</td>
    <td>Hides the messages that appear when a loadout is recalled.</td>
  </tr>
  <tr>
    <td>enable loadout print</td>
    <td>Brings back the printing of loadout messages.</td>
  </tr>
  <tr>
    <td>disable player</td>
    <td>Hides the player. Has no effect on combat, this is only cosmetic.</td>
  </tr>
  <tr>
    <td>enable player</td>
    <td>Brings back the player rendering if it was hidden by a previous "disable player" command.</td>
  </tr>
  <tr>
    <td>play (sound)</td>
    <td>Plays a <a href="#sounds">sound effect</a>.<eg><br>E.g.<br>?key = primary<br>  play buy</td>
  </tr>
</table></font>
<a href="#"><font color="#505050">^Back to top</font></a>
</div>

<div id="comparisons"><div id="separator"><!---------------------------></div>

·:·:· Comparisons ·:·:·
<font color="#bbbbbb">
<f>Used in conjunction with game state to make decisions</f>

<table>
  <tr>
    <td style="min-width: 3em"> =</td>
    <td>Compares values equal or string contains.<eg><br>E.g.<br>?hp = maxhp<br>  loadout 2</td>
  </tr>
  <tr>
    <td style="min-width: 3em"> !</td>
    <td>Compares values not equal or string does not contain.<eg><br>E.g.<br>?foe ! poison<br>  equipL sword</td>
  </tr>
  <tr>
    <td style="min-width: 3em"> &</td>
    <td>Logical AND operator.<eg><br>E.g.<br>?loc=caves & foe=boss</td>
  </tr>
  <tr>
    <td style="min-width: 3em"> |</td>
    <td>Logical OR operator. If '&' and '|' are mixed in a single complex expression, all '&' operate first.<eg><br>E.g.<br>?foe=slow | foe.count&gt;3<br>  activate potion</td>
  </tr>
  <tr>
    <td style="min-width: 3em"> &gt;</td>
    <td>Greater-than compare. Can be used with a location's difficulty, number of foes, health, etc.<eg><br>E.g.<br>?foe.count > 10<br>  equip bardiche</td>
  </tr>
  <tr>
    <td style="min-width: 3em"> <</td>
    <td>Less-than compare.<eg><br>E.g.<br>?hp < 6<br>  activate potion</td>
  </tr>
  <tr>
    <td style="min-width: 3em"> &gt;=</td>
    <td>Greater-than or equal compare. The combination of '&gt;' and '=' into a single comparison.<eg><br>The following two examples are equivalent:<br><br>?loc.stars >= 6<br>  equipR vigor shield<br><br>?loc.stars > 6 | loc.stars = 6<br>  equipR vigor shield</td>
  </tr>
  <tr>
    <td style="min-width: 3em"> <=</td>
    <td>Less-than or equal compare. The combination of '<' and '=' into a single comparison.<eg><br>E.g.<br>?hp <= 6<br>  activate potion</td>
  </tr>
</table></font>
<a href="#"><font color="#505050">^Back to top</font></a>
</div>

<div id="variables"><div id="separator"><!---------------------------></div>

·:·:· Variables ·:·:·
<font color="#bbbbbb">
Variables are a way of storing value to use later. Declare a new variable with the keyword 'var'.

<eg>E.g.:
var myVar = 10</eg>
(myVar is the name of the variable, and it's initialized with value 10)

<eg>myVar = myVar + 5</eg>
(myVar now equals 15)

<eg>var secondVar = 3
myVar = myVar - secondVar</eg>
(Many variables can be combined in math operations. myVar now equals 12)


When a variable is declared it is initialized only once, the first time 'var' executes.

<eg>E.g.:
var i = 0
i++
>i = @i@</eg>
In this example, variable 'i' is declared and starts with value 0. During each frame of the run, the value of 'i' increases by 1 and then is printed to the screen.

Variables only reset to their initial value if you leave a location and begin a new run manually. They do not reset when the Ouroboros loops.

String variables can optionally be declared with quotes. This allows special symbols and trailing spaces.
<eg>E.g.:
var a = 10
var b = 5
var myVar = a + " x " + b + " = " + (a * b)
>@myVar@</eg>
(This example also demonstrates how to join strings with the '+' operator)

Variables in imported scripts are contained within those scripts and their names won't collide with variables or functions in other scripts.
</font>

<a href="#"><font color="#505050">^Back to top</font></a>
</div>

<div id="math-operations"><div id="separator"><!---------------------------></div>

·:·:· Math Operations ·:·:·
<font color="#bbbbbb">
<f>Operators modify numbers. Can be used in conjunction with variables or directly in game state expressions.</f>

<table>
  <tr>
    <td style="min-width: 3em"> +</td>
    <td>Adds two numbers or variables together.<eg><br>E.g.:<br>var a = 2 + 3<br>(a equals 5)</td>
  </tr>
  <tr>
    <td style="min-width: 3em"> -</td>
    <td>Subtracts two numbers or variables from each other.<eg><br>E.g.:<br>?hp < maxhp - 5<br>  equip vigor sword dL</td>
  </tr>
  <tr>
    <td style="min-width: 3em"> *</td>
    <td>Multiplies two numbers or variables together.<eg><br>E.g.:<br>var a = 2<br>var b = 5<br>a = a * b<br>(a equals 10)</td>
  </tr>
  <tr>
    <td style="min-width: 3em"> /</td>
    <td>Divides one number or variable by another. The result is rounded down.<eg><br>E.g.:<br>var a = 8<br>a = a / 4<br>(a equals 2)</td>
  </tr>
  <tr>
    <td style="min-width: 3em"> ++</td>
    <td>Increments a variable.<eg><br>E.g.:<br>var a = 3<br>a++<br>(a equals 4)</td>
  </tr>
  <tr>
    <td style="min-width: 3em"> --</td>
    <td>Decrements a variable.<eg><br>E.g.:<br>var a = 3<br>a--<br>(a equals 2)</td>
  </tr>
  <tr>
    <td style="min-width: 3em"> %</td>
    <td>Modulo. Gives the remainder of dividing one number by another.<eg><br>E.g.:<br>var a = 5 % 4<br>(a equals 1)<br><br>E.g.2:<br>?time % 8 < 4<br>  &gt; \O)<br>?time % 8 > 3<br>  &gt; (O/<br>(this draws an animated emoji)</td>
  </tr>
  <tr>
    <td style="min-width: 3em"> ( )</td>
    <td>Parenthesis can be used to prioritize operations.<eg><br>E.g.:<br>var a = 2 * (3 - 1)<br>(a equals 4)</td>
  </tr>
  <tr>
    <td style="min-width: 3em"> !</td>
    <td>Negation. Inverts the value when used in front of a boolean expression.<eg><br>E.g.:<br>? !ai.enabled<br>  >The AI is not enabled.</td>
  </tr>
</table></font>
<a href="#"><font color="#505050">^Back to top</font></a>
</div>

<div id="functions"><div id="separator"><!---------------------------></div>

·:·:· Functions ·:·:·
<font color="#bbbbbb">
Custom functions serve an important organizational purpose to scripts as they grow in complexity. They make scripts easier to read and reduce repetition. When a function is declared its contents are not executed immediately. Instead, lines of script inside a function execute when the function is called at a later point.

This example creates a counter that increases by 1 each frame. When any custom input key is pressed, ResetCounter() is called and the counter value goes back to zero:
<f><eg>
var count = 0
count++
&gt;Counter = @count@

func ResetCounter()
  count = 0

?key=begin
  ResetCounter()
</eg>
Another aspect of functions is that they can return a value. In this example we declare a simple function that calculates the duration of the main location (non-boss area):
<eg>
func NonBossDuration()
  return totalTime - time

var duration
duration = NonBossDuration()
>Time was: @duration@
</eg>
Functions also accept any number of arguments/parameters, making them even more powerful, with the ability to operate on arbitrary input. Here, we declare a utility function that generates a random number within a range, then we use it to generate random numbers between 5 and 10:
<eg>
func RandomRange(min, max)
  ?min >= max
    return min
  return min + rng % (max - min + 1)

var randomValue
randomValue = RandomRange(5, 10)
>RNG: @randomValue@
</eg>
The prefix 'this' can be used inside a funtion when referencing variables that belong to the outside script. Use of 'this' is optional, and script variables can be accessed by a function without the prefix. However, in the following example the variable 'a' appears both inside and outside of the function, so 'this.a' is used for differentiation:
<eg>
var a = 1
func TestScope(a)
  >Script var = @this.a@, function var = @a@

TestScope(3)
</eg>
When functions call other functions, or themselves, this creates an execution stack that can build in size until the application crashes. To safeguard computer resources Stonescript has a stack limit of 1024 and will throw an error if the limit is exceeded.
</font>

<a href="#"><font color="#505050">^Back to top</font></a>
</div>

<div id="native-functions"><div id="separator"><!---------------------------></div>

·:·:· Native Functions ·:·:·
<font color="#bbbbbb">
While scripts can define their own functions, Stonescript comes with a set of pre-defined/native functions that behave similar to commands, but differ in that they are more clearly grouped by subject, can accept parameters and sometimes return a value.

<table>
  <tr>
    <td>draw.Clear()<br><eg>No return value</td>
    <td>Clears the entire screen.</td>
  </tr>
  <tr>
    <td>draw.Player()<br><eg>No return value</td>
    <td>Draws the player character, with all equipment and addons, at a specific point in the script.</td>
  </tr>
  <tr>
    <td>draw.Bg(x, y, color)<br><eg>No return value</td>
    <td>Sets the background color at a specific screen position.<br><eg>E.g.<br>draw.Bg(5, 4, #red)</td>
  </tr>
  <tr>
    <td>draw.Bg(x, y, color, w, h)<br><eg>No return value</td>
    <td>Sets the background color of a rectangular region on screen.<br><eg>E.g.<br>draw.Bg(5, 4, #cyan, 10, 6)</td>
  </tr>
  <tr>
    <td>loc.Leave()<br><eg>No return value</td>
    <td>Causes the run to be abandoned as if the player had pressed to leave manually.</td>
  </tr>
  <tr>
    <td>string.Size(var)<br><eg>Returns integer</td>
    <td>Takes a string variable as parameter and calculates how long it is, in number of glyphs.<eg><br>E.g.<br>var a = Hello World!<br>var size = string.Size(a)<br>>size = @size@</td>
  </tr>
  <tr>
    <td>string.IndexOf(var, criteria)<br><eg>Returns integer</td>
    <td>Takes a string variable and a string criteria as parameters and finds the position of the criteria inside the string. Returns -1 if not found.<eg><br>E.g.<br>var a = Hello World!<br>var index = string.IndexOf(a, llo)<br>(index equals 2)</td>
  </tr>
  <tr>
    <td>string.IndexOf(var, criteria, startAt)<br><eg>Returns integer</td>
    <td>Takes a string variable, a string criteria and a starting index as parameters. Finds the position of the criteria inside the string, but begins the search at 'startAt'. Returns -1 if not found.<eg><br>E.g.<br>var a = Hello World!<br>var index = string.IndexOf(a, llo, 4)<br>(index equals -1 because the search began at position 4, therefore 'llo' was not found)</td>
  </tr>
  <tr>
    <td>string.Sub(var, startAt)<br><eg>Returns string</td>
    <td>Takes a string variable and a starting index as parameters and splits the string from that point forward.<eg><br>E.g.<br>var a = Hello World!<br>var subString = string.Sub(a, 6)<br>>substring = @subString@<br>(subString equals "World!")</td>
  </tr>
  <tr>
    <td>string.Sub(var, startAt, length)<br><eg>Returns string</td>
    <td>Takes a string variable, a starting index and a length as parameters and splits the string from that starting point, stopping at the given length.<eg><br>E.g.<br>var a = Hello World!<br>var subString = string.Sub(a, 6, 3)<br>>substring = @subString@<br>(subString equals "Wor")</td>
  </tr>
</table></font>
<a href="#"><font color="#505050">^Back to top</font></a>
</div>

<div id="import"><div id="separator"><!---------------------------></div>

·:·:· Importing External Scripts ·:·:·
<font color="#bbbbbb">
Your script doesn't have to be all in the Mind Stone. Stonescript supports the loading of external files through the 'import' and 'new' keywords. For external scripts to work they must be located in your <a href="https://stonestoryrpg.com/faq.html#Technical%20Help">save-file folder</a>, inside a /Stonescript folder and end in '.txt'.

In the most basic example an external script is imported and runs as if it were directly in your Mind Stone, making this a convenient way to organize farming scripts:
<eg>
import Rocky
import Deadwood
import Caves
import Forest
</eg>
When a script is imported it's copied into its own container and returns as a reference. Variables declared in the external script are isolated and don't interact with variables in other scripts. In this example, a printing utility script offers simplified services:
<eg><f>
// PrintUtil.txt
func LowerLeft(x, y, color, message)
  y = y + screen.h
  >`@x@,@y@,@color@,@message@

func LowerRight(x, y, color, message)
  x = x + screen.w
  y = y + screen.h
  >`@x@,@y@,@color@,@message@

// Main script in Mind Stone
var print = import PrintUtil
disable hud
print.LowerLeft(0,-1,#ffffff,"Health: " + hp)
</f></eg>
Advanced solutions can import the same script multiple times using the 'new' command, for example, to implement componentization or an Object Oriented paradigm:
<eg><f>
// Vector.txt
var x = 0
var y = 0

func init(_x, _y)
  x = _x
  y = _y

func subtract(otherVect)
  x = x - otherVect.x
  y = y - otherVect.y

// Main script in Mind Stone
var vectFrom = new Components/Vector
var vectTo = new Components/Vector

vectFrom.init(5, 4)
vectTo.init(8, 2)
vectTo.subtract(vectFrom)

>x = @vectTo.x@, y = @vectTo.y@
</f></eg>
External scripts can implement a 'ToString()' function, allowing their direct use in advanced print commands:
<eg><f>
// Vector.txt
var x = 0
var y = 0

func init(_x, _y)
  x = _x
  y = _y

func ToString()
  return "(" + x + ", " + y + ")"

// Main script in Mind Stone
var v = import Components/Vector
v.init(3,5)
>Vector = @v@
</f></eg>
External scripts can be imported from subfolders:
<eg><f>
import Games/Blackjack
import Cosmetics/PetFrog
import Cosmetics/Hats
</f></eg>
While similar, there are two important differences between 'import' and 'new'. With 'import' the same object is returned each time. If you import the same script from multiple places they will all be using the same object. Scripts imported with 'new' are unique copies, but their script body will only run 1 time as opposed to every frame.
</font>

<a href="#"><font color="#505050">^Back to top</font></a>
</div>

<div id="ascii-art"><div id="separator"><!---------------------------></div>

·:·:· ASCII-art ·:·:·
<font color="#bbbbbb">
In Stonescript, custom ASCII-art can be embedded within the scripts and drawn on screen with the advanced print commands. There are a few methods to do this and some glyphs have special behavior:
<f>
#  - Blank space. Transparency. Does not draw.
\n - Line break. Causes the draw to continue on the next line.
</f>

Method 1 - Advanced print

This example draws a green circle to the top-left of the screen.
<eg><f>
>`1,0,#green,
^#.-.\n
^(   )\n
^#`-´
</f></eg>

Method 2 - Variables

This example saves the art for a spooky fish into a variable, then draws it to the top-left of the screen in red color.
<eg><f>
var fishSprite
fishSprite = "
^###(°_##\n
^#_/_ o\#\n
^#´  `''#"

>`0,3,#red,@fishSprite@
</f></eg>

Method 3 - ascii/asciiend block

These examples show the use of ascii blocks as a replacement for methods 1 & 2. Note that with ascii blocks there is no need for ^ and \n in delimiting lines. Furthermore, special glyphs such as " can be used in the art without confusing the compiler.
<eg><f>
>`1,0,#green,ascii
#.-.
(   )
#`-´
asciiend

var fishSprite
fishSprite = ascii
###(°_#
#_/_ o\
#´  `'"
asciiend
>`0,3,#red,@fishSprite@
</f></eg></font>

<a href="#"><font color="#505050">^Back to top</font></a>
</div>

<div id="search-filters"><div id="separator"><!---------------------------></div>

·:·:· Search Filters ·:·:·
<font color="#bbbbbb">
These are used when evaluating foes.

<eg><f>E.g.:
?foe = insect | foe = poison
  loadout 3</f></eg>

poison
vigor
aether
fire
air
ice
arachnid
serpent
insect
machine
humanoid
elemental
boss
spawner
flying
slow
ranged
unpushable
undamageable
magic_resist
magic_vulnerability
immune_to_stun
immune_to_ranged
immune_to_debuff_damage
immune_to_physical
*[number]  star level of a location or item
+[number]  enchantment bonus of an item
</font>

<a href="#"><font color="#505050">^Back to top</font></a>
</div>

<div id="custom-input"><div id="separator"><!---------------------------></div>

·:·:· Custom Input ·:·:·
<font color="#bbbbbb">
Stonescript can read player inputs by use of the ?key game state. This can be used to drive advanced behaviors, such as different modes for the AI, but custom inputs allow the creation of entirely new experiences layered on top of Stone Story.

<eg><f>In this example, the @ symbol can be moved across the screen like the main character in a classic Rogue-like game. The key codes (leftBegin, etc) refer to the initial downpress of the button.

var x = 0
var y = 0

?key = leftBegin
  x--
  ?x < 0
    x = 0
?key = rightBegin
  x++

?key = upBegin
  y--
  ?y < 0
    y = 0
?key = downBegin
  y++

>`@x@,@y@,#ffffff,@
</f></eg>

Table with all the available key codes:

<table>
  <tr>
    <td>Held<br>----</td>
    <td>Pressed<br>-------</td>
    <td>Released<br>--------</td>
	<td>Default PC<br>----------</td>
  </tr>
  <tr>
    <td>left</td>
    <td>leftBegin</td>
    <td>leftEnd</td>
	<td>A or ←</td>
  </tr>
  <tr>
    <td>right</td>
    <td>rightBegin</td>
    <td>rightEnd</td>
	<td>D or →</td>
  </tr>
  <tr>
    <td>up</td>
    <td>upBegin</td>
    <td>upEnd</td>
	<td>W or ↑</td>
  </tr>
  <tr>
    <td>down</td>
    <td>downBegin</td>
    <td>downEnd</td>
	<td>S or ↓</td>
  </tr>
  <tr>
	<td>primary</td>
	<td>primaryBegin</td>
	<td>primaryEnd</td>
	<td>Return</td>
  </tr>
  <tr>
	<td>back</td>
	<td>backBegin</td>
	<td>backEnd</td>
	<td>X</td>
  </tr>
  <tr>
	<td>ability1</td>
	<td>ability1Begin</td>
	<td>ability1End</td>
	<td>Shift</td>
  </tr>
  <tr>
	<td>ability2</td>
	<td>ability2Begin</td>
	<td>ability2End</td>
	<td>Control</td>
  </tr>
  <tr>
	<td>bumpL</td>
	<td>bumpLBegin</td>
	<td>bumpLEnd</td>
	<td>Z</td>
  </tr>
  <tr>
	<td>bumpR</td>
	<td>bumpRBegin</td>
	<td>bumpREnd</td>
	<td>C</td>
  </tr>
</table></font>
<a href="#"><font color="#505050">^Back to top</font></a>
</div>

<div id="tips"><div id="separator"><!---------------------------></div>

·:·:· Tips ·:·:·
<font color="#bbbbbb">
<f>Space (identation) matters when defining what happens as a result of '?' comparisons (scope).</f>

<f>The script can be changed in the middle of a run by pressing 'M' on your keyboard.</f>

<f>The Power button in the top-right of the Mind Stone turns the script ON/OFF.</f>

<f>If multiple equip Commands are called, whichever comes last will occur.</f>

<f>The script executes 30 times per second (once per frame).</f>

<f>To experiment with different scripts it's recommended to copy them into an external text editor, such as Notepad.</f>

<f>Common shortcuts such as Ctrl+A, Ctrl+C and Ctrl+V are useful.</f>

<f>Holding the Tab key in-game gives you a lot of information about game state and shows a list of recent Stonescript errors.</f>

<f>A print command can be broken into multiple lines by using '\n' in the text.</f>
</font>

<a href="#"><font color="#505050">^Back to top</font></a>
</div>

<div id="default-script"><div id="separator"><!---------------------------></div>

·:·:· Default script ·:·:·
<font color="#bbbbbb"><f>
import Fishing

?hp < 7
  activate potion
?loc = caves
  equipL sword
  equipR shield
  ?foe = boss
    equip crossbow
</f></font>

<a href="#"><font color="#505050">^Back to top</font></a>
</div>

<div id="roadmap"><div id="separator"><!---------------------------></div>

·:·:· Roadmap ·:·:·
<font color="#bbbbbb"><f>
Things that are planned, but not yet in the game:

Permanent variables that retain value between executions of the app.
Fishing mini-game.
Addition of math native functions.

?has = potion   Evaluates if there is a potion available to use.
?has = (item)   Evaluates if the given item is equipped.
?hasL = (item)  Evaluates if the given item is equipped on the Left.
?hasR = (item)  Evaluates if the given item is equipped on the Right.

Particle emissions.

brew [resources] Creates a potion at the beginning of a location. E.g.: brew wood stone.

Arrays/Lists.
Loops.

?foe.level - The level/difficulty of the targeted foe.
?foe.state (cast,perf,cooldown) - Current attack state of the targeted foe.
?foe.statetime - Elapsed frames of the current state of the targeted foe's attack.

equipF (str) - equips an item to the Faerie.

foes - The list of foes within 40 units.
</f></font>

<a href="#"><font color="#505050">^Back to top</font></a>
</div>

<div id="sounds"><div id="separator"><!---------------------------></div>

·:·:· Appendix - Sound Effects ·:·:·
<font color="#bbbbbb">
Stonescript can play sound effects from the game, based on custom logic.

<eg><f>In this example, the 'unequip' sound is played whenever the player loses health:

var lasthp = hp
?hp < lasthp
  play unequip
lasthp = hp</f></eg>

Most sounds have variations that either play randomly or sequentially. If the same sound is played more than once in a single frame it will be ignored. If more than 5 sounds are played per second they will be throttled.

Here is the full list of sounds available in Stone Story RPG:

buy
click
confirm
soul_stone
sword_cast
sword_hit
wand_cast
wand_hit
player_kick
player_punch
stone_throw_cast
stone_throw_hit
grappling_cast
grappling_hit
grappling_idle
hatchet_cast
hatchet_hit
shovel_cast
torch_cast
torch_hit
torch_idle
pickup_stone
pickup_wood
pickup_tar
pickup_success
soul_stone_drop
wand_drop
key_drop
cross_deadwood_bump
cross_deadwood_row
cross_deadwood_splash
ui_starfirst
ui_starnew
ui_starold1
ui_starold2
ui_starold3
ui_starold4
bronze_gate_open
prompt_choice
waterfall_hook_hit
waterfall_splash
haunted_gate_key_bounce_1
haunted_gate_key_bounce_2
haunted_gate_key_bounce_3
haunted_gate_opening
haunted_gate_point_lost
haunted_gate_key_into_gate
haunted_gate_shuffle
haunted_gate_shuffle_fast
haunted_gate_torch_off
haunted_gate_torch_on
haunted_gate_try_to_open
paint_splat
waterfall_land
waterfall_rope_grab
waterfall_rope_swing
skeleton_boss_death
skeleton_boss_legs_die
spider_boss_death
tree_boss_death
mushroom_boss_death
tree_boss_attack
tree_boss_awake
tree_boss_idle
tree_boss_spike
spider_boss_attack
player_hit
mushroom_boss_awake
mushroom_boss_punch
mushroom_boss_shoot
skeleton_boss_arm1
skeleton_boss_arm2
skeleton_boss_attack
skeleton_boss_idle
skeleton_boss_bone_bounce
skeleton_boss_arm_woosh
equip
unequip
bat_attack_small
bat_death_small
bat_wing
bat_wing_small
spider_attack
spider_death
spider_death_small
spider_eggs_spawn
spider_walk
scarab_awake
scarab_bite
scarab_death
scarab_horn
scarab_wings
mosquito_attack
mosquito_death
mosquito_loop
bronze_gate_locked
bat_attack
bat_death
progress_1
progress_2
progress_3
progress_4
progress_5
progress_6
progress_7
progress_8
progress_9
life_gain
player_death
logo_full
logo_short
smithy_hammer
sightstone_cast
error
ranting_tree_halt
treasure_close
treasure_item_pop
treasure_item_show
treasure_open
skeleton_boss_awake
skeleton_boss_hand_slam
level_up
insta_kill
spider_boss_awake
metal_drop
treasure_drop
smithy_hammer_fail
xp_tick
crossbow_cast
crossbow_hit
wand_aether_cast
wand_aether_hit
wand_air_cast
wand_air_hit
wand_fire_cast
wand_fire_hit
wand_ice_cast
wand_ice_hit
wand_poison_cast
wand_poison_hit
wand_vigor_cast
wand_vigor_hit
skeleton_boss_arm_reconnect
skeleton_boss_summon_minions
mushroom_boss_fat_slam
pickup_bronze
temple_npc_chant
temple_npc_clear_throat
temple_npc_talk
first_controller
slave_npc
slave_outro_chatter
slave_outro_voice
haunted_gate_npc_voice
slave_outro_transition
bronze_guardian_attack1
bronze_guardian_attack2
bronze_guardian_attack3
bronze_guardian_death
bronze_guardian_helmet
bronze_guardian_power_up
bronze_guardian_steps
ant_attack
ant_death
ant_walk
snail_attack
snail_attack_small
snail_death
snail_death_small
snail_walk
ghost_death
ghost_death_small
skeletimmy_death
skeletony_death
skeletimmy_attack
skeletony_attack
skeletony_awake_a
skeletony_awake_b
skeletony_walk
ghost_loop
ghost_loop_small
ghost_attack
ghost_attack_small
controller_death
controller_whip_attack
controller_whip_hit
dominotaur_death
dominotaur_whip_attack
dominotaur_whip_hit
mine_walker_death
mine_walker_attack_a
mine_walker_attack_b
mine_walker_attack_hit
mine_walker_awake
mine_walker_step
fire_elemental_attack
fire_elemental_attack_hit
fire_elemental_awake
fire_elemental_death
mine_walker_helmet_break
ice_elemental_attack
ice_elemental_attack_hit
ice_elemental_awake
ice_elemental_death
ki_eater_attack
ki_eater_attack_hit
ki_eater_awake
ki_eater_death
ki_gobbler_attack
ki_gobbler_attack_hit
ki_gobbler_awake
ki_gobbler_death
ki_slerper_attack
ki_slerper_attack_hit
ki_slerper_awake
ki_slerper_death
bell_ringer_attack
bell_ringer_attack_hit
cult_guard_attack
cult_guard_attack_hit
cult_marksman_attack
cult_marksman_attack_hit
cult_sorcerer_attack
cult_sorcerer_attack_hit
cultist_death
flying_serpent_loop
poison_adept_attack
poison_adept_attack_hit
serpent_attack
serpent_death
serpent_handler_release
serpent_hiss
serpent_slither
worm_rider_hop
booklet_open
booklet_turn_page
booklet_close
hammer_cast
hammer_hit
shield_dash
fissure_break_apart
fissure_unmake
mindstone_off
mindstone_on
triskelion_fuse
potion_berserk
potion_cleansing
potion_defensive
potion_experience
potion_healing
potion_invisibility
potion_lightning
potion_lucky
potion_strength
potion_vampiric
bronze_guardian_pulling_hammer
bronze_guardian_removing_hammer
bronze_guardian_turbine
bronze_guardian_ears_ring
bronze_guardian_fuse
bronze_guardian_attack4
yeti_attack
yeti_attack_flick
yeti_attack_hit
yeti_awake_blow
yeti_awake_explosion
yeti_awake_inhale
yeti_awake_lick
yeti_blow
yeti_blow_ice_wall
yeti_death
yeti_inhale
yeti_inhale_lick
nagaraja_awake_roar
nagaraja_awake_swallow
nagaraja_awake_tongue_1
nagaraja_awake_tongue_2
nagaraja_dead
nagaraja_poison_attack
nagaraja_poison_attack_hit
nagaraja_wail
nagaraja_wail_brick
nagaraja_attack_eat
nagaraja_attack_lick
nagaraja_attack_swallow
nagaraja_tongue_damaged
nagaraja_tongue_lift
nagaraja_tongue_smell
nagaraja_tongue_wrap
bearer3_talk
bearer_attack
bearer_attack_hit
bearer_death
bearer_stealing
bearer_super_attack
bearer_scream
bearer4_talk
bearer4_talk_evolving
bearer_evolving
elementalist_aether_attack
elementalist_aether_attack_hit
elementalist_aether_blink
elementalist_death
elementalist_fire_attack
elementalist_fire_attack_hit
elementalist_fire_blink
elementalist_ice_attack
elementalist_ice_attack_hit
elementalist_ice_blink
elementalist_poison_attack
elementalist_poison_attack_hit
elementalist_poison_blink
elementalist_vigor_attack
elementalist_vigor_attack_hit
elementalist_vigor_blink
bearer5_talk
elementalist_evolving
perfected_attack
perfected_attack_hit
perfected_death
perfected_defense
perfected_energy_ball
perfected_energy_ball_hit
perfected_summon
perfected_talk
epilogue_devolving
epliogue_player_evolves
epilogue_talk
devolved_talk
dysangelos_guidance
dysangelos_guidance_1
dysangelos_guidance_2
dysangelos_guidance_3
dysangelos_intro_talk
ranting_tree_talk_halt
ranting_tree_talk_again
ranting_tree_talk_how_dare
ranting_tree_talk_avenge
ranting_tree_talk_get_out
ranting_tree_talk_impressive
ranting_tree_talk_very_well
hans_talk_intro
hans_talk_reward
scotty_a_pleasure
scotty_a_worthy_opponent
scotty_deuced
scotty_failte_back
scotty_getting_good
scotty_grr
scotty_guess_which
scotty_intro
scotty_lets_harden
scotty_make_ye_guess
scotty_noo_jist
scotty_perhaps_the_rules
scotty_pick_some_treasure
scotty_shall_we_up
scotty_we_have_wee_use
scotty_well_met
scotty_well_then
scotty_wizard
scotty_wrong_choice
scotty_hell_be_back
scotty_out_of_treasure
scotty_there_he_is
nagaraja_choir
mushroom_boss_split
ant_hill
treasure_drop_common
treasure_drop_epic
treasure_drop_giant
treasure_drop_humble
treasure_drop_rare
dominotaur_awake
fire_geyser
ice_pillar
treasure_item_cyan
treasure_item_yellow
treasure_item_green
treasure_item_blue
treasure_item_red
treasure_item_rainbow
ki_slerper_walk
mindstone_found
ghost_tomb_death
perfected_fly_start
perfected_fly_loop
perfected_fly_end
shop_door_open
shop_door_enter
scorpion_death
bomb_cart_explosion
bomb_cart_fuse
bomb_cart_move
bronze_gate_close
poison_powerup
acronian_cultist_power_up
giant_ice_elemental_attack
scout_dialog
morel_punch
falling_stonefolk
scout_arrives
scout_leaves
scout_wing
scout_focus
dog_bark
frog
</font>

<a href="#"><font color="#505050">^Back to top</font></a>
</div>


<font color="#505050">
Copyright Martian Rex, Inc. 2020

</font>
</div>

<br>
</body></html>